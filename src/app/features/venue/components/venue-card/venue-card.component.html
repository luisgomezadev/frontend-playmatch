<article
  class="bg-white shadow-xl border border-gray-300 rounded-2xl p-6 motion-preset-slide-up-sm motion-duration-1000">
  <header class="flex items-center gap-x-3 text-xl sm:text-2xl">
    <div class="flex flex-col">
      <h1 class="font-extrabold text-primary leading-7">{{ venue.name }}</h1>
      <span class="text-sm text-gray-600">{{ venue.city }}</span>
    </div>
  </header>
  <div class="py-3">
    <div
      class="group flex items-start gap-4 p-3 bg-secondary/10 border border-gray-200 rounded-xl hover:border-gray-300 transition-all duration-200">
      <div class="p-2 bg-gray-200 rounded-lg group-hover:bg-gray-300 transition-colors mt-0.5">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="lucide lucide-map-pin w-5 h-5 text-primary">
          <path
            d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
          </path>
          <circle cx="12" cy="10" r="3"></circle>
        </svg>
      </div>
      <div class="min-w-0 flex-1">
        <p class="text-sm font-semibold text-gray-600 mb-1">Dirección</p>
        <p class="text-gray-900 font-medium break-words leading-relaxed">{{ venue.address }}</p>
      </div>
    </div>
  </div>
  <footer class="pt-3 border-t border-gray-200 grid grid-cols-1 sm:grid-cols-2 gap-4">
    <app-button (clicked)="openModal()" color="secondary" text="Ver canchas disponibles">
      Ver detalles
    </app-button>
    <app-button (clicked)="goToReservation()" text="Hacer reserva">
      Reservar
    </app-button>
  </footer>
</article>

<app-modal [open]="isOpen()" (closed)="onClosed()" width="max-w-3xl" [title]="'Información de las canchas disponibles'">
  <div class="space-y-5">
    <h3 class="font-bold text-gray-900 flex items-center gap-3 text-lg">
      <div class="p-2 bg-gray-100 rounded-lg">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-5 h-5 text-gray-700">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2" />
        </svg>
      </div>
      Canchas disponibles
      <span class="text-xs bg-primary text-white px-3 py-1.5 rounded-full font-bold shadow-sm">
        {{ venue.fields.length }}
      </span>
    </h3>
    <div class="grid gap-4 md:grid-cols-2">
      @for (field of venue.fields; track field.id) {
      <div
        class="group p-5 bg-gradient-to-br from-white via-gray-50 to-gray-100 border border-gray-200 rounded-xl hover:border-gray-300 transition-all duration-300 hover:-translate-y-1 opacity-0 animate-fade-in"
        style="animation-delay: 0ms; animation-fill-mode: forwards">
        <div class="flex justify-between items-start gap-3">
          <div class="flex-1">
            <h4
              class="font-semibold text-gray-900 capitalize leading-tight mb-1 group-hover:text-gray-800 transition-colors text-xl">
              {{ field.name }}
            </h4>
            <span class="opacity-70 text-sm">
              {{ field.fieldType | fieldTypeToPlayers }}
            </span>
          </div>
          <div class="text-right">
            <span class="text-xl font-bold text-gray-900 block mb-0">
              {{ field.hourlyRate | moneyFormat }}
            </span>
          </div>
        </div>
      </div>
      }
    </div>
    <span class="block mt-3 text-sm text-gray-700 pl-2">
      <i class="fa-solid fa-circle-info"></i>
      El precio de las canchas es por hora
    </span>
  </div>
  <footer class="pt-4 mt-4 border-gray-200 border-t flex items-start justify-end gap-4">
    <app-button (click)="goToReservation()">
      Hacer reserva
    </app-button>
  </footer>
</app-modal>
